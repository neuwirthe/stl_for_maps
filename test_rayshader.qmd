---
title: "test rayshaderstl"
format: html
editor: source
---

```{r}
library(terra)
library(rayshader)
library(rgl)

srtm <- rast("for_stl/kor_kritz_manfred_3035.tif")              # SpatRaster
elmat <- raster_to_matrix(srtm)      # rayshader helper

```

```{r}
#install.packages("rayshader")
```

```{r}
open3d()
options(rgl.printRglwidget = TRUE)
elmat |>
  sphere_shade(texture = "desert") |>
  plot_3d(elmat, zscale = 1) 
 render_snapshot()

```
```{r}
save_3dprint(
  filename = "terrain.stl",  # .stl appended if omitted
  maxwidth = 100,            # in mm (or "5in", etc.)
  unit     = "mm",
  rotate   = TRUE
)

```

```{r}
options(rgl.useNULL = FALSE)
library(rgl)
open3d()
rgl.cur()
```

